# ๐ ุฅุนุฏุงุฏ ุงูุจุซ ุงููุญุธู ูููุญุงุฏุซุงุช

## ุงููุดููุฉ

ุนูุฏ ุงูุฎุฑูุฌ ูู ุงููุญุงุฏุซุฉ ูุงูุฐูุงุจ ููุงุฆูุฉ ุงููุญุงุฏุซุงุชุ ูุง ุชุตู ุงูุฅุดุนุงุฑุงุช ูุญุธููุง ุนูุฏ ุฅุฑุณุงู ุฑุณุงูุฉ ุฌุฏูุฏุฉ.

## ุงูุญู

### 1. ุฅุถุงูุฉ Laravel Echo ูู ุงูุฌุงูุจ ุงูุฃูุงูู

ุฃุถู Laravel Echo ูู ููู `resources/js/bootstrap.js`:

```javascript
import Echo from "laravel-echo";
import Pusher from "pusher-js";

window.Pusher = Pusher;

window.Echo = new Echo({
    broadcaster: "pusher",
    key: process.env.MIX_PUSHER_APP_KEY,
    cluster: process.env.MIX_PUSHER_APP_CLUSTER,
    forceTLS: true,
});
```

### 2. ุฅุถุงูุฉ ูุนุฑู ุงููุณุชุฎุฏู ูู ุงูุตูุญุฉ

ุฃุถู meta tag ูู ุฑุฃุณ ุงูุตูุญุฉ:

```html
<meta name="user-id" content="{{ auth()->id() }}" />
```

ุฃู ููุชุบูุฑ JavaScript:

```html
<script>
    window.currentUserId = {{ auth()->id() }};
</script>
```

### 3. ุชุถููู ูููุงุช JavaScript ุงูุฌุฏูุฏุฉ

ุฃุถู ุงููููุงุช ุงูุชุงููุฉ ูู ุตูุญุงุช ุงููุญุงุฏุซุงุช:

```html
<!-- ููุงุฆูุฉ ุงููุญุงุฏุซุงุช -->
<script src="/assets/js/chat-realtime.js"></script>

<!-- ูุตูุญุฉ ุงููุญุงุฏุซุฉ ุงููุฑุฏูุฉ -->
<script src="/assets/js/chat-messages-realtime.js"></script>
```

### 4. ุฅุถุงูุฉ data attributes ูู HTML

ุชุฃูุฏ ูู ุฅุถุงูุฉ `data-conversation-id` ูู ุนูุงุตุฑ ูุงุฆูุฉ ุงููุญุงุฏุซุงุช:

```html
<div class="conversation-item" data-conversation-id="{{ $conversation->id }}">
    <div class="conversation-last-message">
        {{ $conversation->latestMessage->content }}
    </div>
    <div class="conversation-last-time">
        {{ $conversation->latestMessage->created_at }}
    </div>
</div>
```

### 5. ุฅุนุฏุงุฏ Pusher

ุชุฃูุฏ ูู ุฅุนุฏุงุฏ Pusher ูู ููู `.env`:

```env
PUSHER_APP_ID=your_app_id
PUSHER_APP_KEY=your_app_key
PUSHER_APP_SECRET=your_app_secret
PUSHER_APP_CLUSTER=your_cluster

MIX_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
MIX_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"
```

### 6. ุชุดุบูู Laravel Echo Server

```bash
# ุชุซุจูุช Laravel Echo Server
npm install -g laravel-echo-server

# ุชุดุบูู ุงูุฎุงุฏู
laravel-echo-server start
```

## ุงูููุฒุงุช ุงููุถุงูุฉ

### โ ุชุญุฏูุซ ูุงุฆูุฉ ุงููุญุงุฏุซุงุช ูุญุธููุง

-   ุชุญุฏูุซ ุขุฎุฑ ุฑุณุงูุฉ
-   ุชุญุฏูุซ ููุช ุขุฎุฑ ุฑุณุงูุฉ
-   ููู ุงููุญุงุฏุซุฉ ูุฃุนูู ุงููุงุฆูุฉ
-   ุชุฃุซูุฑ ุจุตุฑู ููุฑุณุงุฆู ุงูุฌุฏูุฏุฉ

### โ ุฅุดุนุงุฑุงุช ูุญุธูุฉ

-   ุฅุดุนุงุฑุงุช ููุจุซูุฉ ุนูุฏ ุงุณุชูุงู ุฑุณุงูุฉ ุฌุฏูุฏุฉ
-   ุฅููุงููุฉ ุงูููุฑ ุนูู ุงูุฅุดุนุงุฑ ููุงูุชูุงู ูููุญุงุฏุซุฉ
-   ุฅุบูุงู ุงูุฅุดุนุงุฑ ูุฏูููุง ุฃู ุชููุงุฆููุง

### โ ุฑุณุงุฆู ุฌุฏูุฏุฉ ุฏุงุฎู ุงููุญุงุฏุซุฉ

-   ุฅุถุงูุฉ ุงูุฑุณุงุฆู ุงูุฌุฏูุฏุฉ ุชููุงุฆููุง
-   ุชูุฑูุฑ ููุฃุณูู ุชููุงุฆููุง
-   ุชุฃุซูุฑุงุช ุจุตุฑูุฉ ููุฑุณุงุฆู ุงูุฌุฏูุฏุฉ

## ุงุฎุชุจุงุฑ ุงููุธุงู

1. ุงูุชุญ ุตูุญุฉ ูุงุฆูุฉ ุงููุญุงุฏุซุงุช
2. ุงูุชุญ ูุญุงุฏุซุฉ ุฃุฎุฑู ูู ุชุจููุจ ูููุตู
3. ุฃุฑุณู ุฑุณุงูุฉ ูู ุงูุชุจููุจ ุงูุซุงูู
4. ูุฌุจ ุฃู ุชุธูุฑ ุงูุฅุดุนุงุฑุงุช ูู ุงูุชุจููุจ ุงูุฃูู

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ูู ุชุนูู ุงูุฅุดุนุงุฑุงุช:

1. ุชุญูู ูู console ูู ุงููุชุตูุญ ููุฃุฎุทุงุก
2. ุชุฃูุฏ ูู ุชุดุบูู Laravel Echo Server
3. ุชุญูู ูู ุฅุนุฏุงุฏุงุช Pusher
4. ุชุฃูุฏ ูู ูุฌูุฏ ูุนุฑู ุงููุณุชุฎุฏู ูู ุงูุตูุญุฉ

### ุฑุณุงุฆู ุงูุฎุทุฃ ุงูุดุงุฆุนุฉ:

-   `Laravel Echo is not available`: ุชุฃูุฏ ูู ุชุถููู Laravel Echo
-   `User ID not found`: ุชุฃูุฏ ูู ุฅุถุงูุฉ ูุนุฑู ุงููุณุชุฎุฏู
-   `Connection failed`: ุชุญูู ูู ุฅุนุฏุงุฏุงุช Pusher

## ููุงุญุธุงุช ูููุฉ

-   ุชุฃูุฏ ูู ุฃู ุงููุณุชุฎุฏู ูุณุฌู ุงูุฏุฎูู
-   ุชุฃูุฏ ูู ุตูุงุญูุงุช ุงููุตูู ูููุญุงุฏุซุงุช
-   ุงุฎุชุจุฑ ุงููุธุงู ุนูู ูุชุตูุญุงุช ูุฎุชููุฉ
-   ุชุฃูุฏ ูู ุนูู ุงููุธุงู ุนูู ุงูุฃุฌูุฒุฉ ุงููุญูููุฉ
